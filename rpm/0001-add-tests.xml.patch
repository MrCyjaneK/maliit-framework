From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Reto Zingg <reto.zingg@jollamobile.com>
Date: Mon, 30 Sep 2013 18:29:47 +0300
Subject: [PATCH] add tests.xml

[qa] add tests.xml
---
 tests/tests.pro    | 14 ++++++++++++++
 tests/tests.xml.in | 46 ++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 60 insertions(+)
 create mode 100644 tests/tests.xml.in

diff --git a/tests/tests.pro b/tests/tests.pro
index e4255b2..1dbc67e 100644
--- a/tests/tests.pro
+++ b/tests/tests.pro
@@ -30,3 +30,17 @@ SUBDIRS += \
 QMAKE_EXTRA_TARGETS += check
 check.target = check
 check.CONFIG = recursive
+
+unix{
+    tests_xml.target = tests.xml
+    tests_xml.files = tests.xml
+    tests_xml.path = /opt/tests/maliit-framework/
+    tests_xml.CONFIG = no_check_exist
+    tests_xml.commands = sed \'s%@PATH@%$${MALIIT_TEST_LIBDIR}%g\' $$PWD/tests.xml.in > $$PWD/tests.xml
+
+    QMAKE_DISTCLEAN += tests.xml
+
+    INSTALLS += tests_xml
+}
+
+
diff --git a/tests/tests.xml.in b/tests/tests.xml.in
new file mode 100644
index 0000000..31509cb
--- /dev/null
+++ b/tests/tests.xml.in
@@ -0,0 +1,46 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<testdefinition version="1.0">
+   <suite name="maliit-framework" domain="Input">
+       <description>Maliit tests</description>
+       <set name="Maliit_Functional_Tests" feature="Maliit_Functional_Tests">
+           <case name="ft_exampleplugin" type="Functional">
+               <step>@PATH@/ft_exampleplugin/ft_exampleplugin</step>
+           </case>
+           <case name="ft_mimpluginmanager" type="Functional">
+               <step>LD_LIBRARY_PATH=@PATH@/plugins @PATH@/ft_mimpluginmanager/ft_mimpluginmanager</step>
+           </case>
+       </set>
+       <set name="Maliit_Sanity_Tests" feature="Maliit_Sanity_Tests">
+           <case name="sanitychecks" type="Functional">
+               <step>@PATH@/sanitychecks/sanitychecks</step>
+           </case>
+       </set>
+       <set name="Maliit_Unit_Tests" feature="Maliit_Unit_Tests">
+           <case name="ut_mattributeextensionmanager" type="Unit">
+               <step>@PATH@/ut_mattributeextensionmanager/ut_mattributeextensionmanager</step>
+           </case>
+           <case name="ut_mimonscreenplugins" type="Unit">
+               <step>@PATH@/ut_mimonscreenplugins/ut_mimonscreenplugins</step>
+           </case>
+           <case name="ut_mimpluginmanager" type="Unit">
+               <step>LD_LIBRARY_PATH=@PATH@/plugins @PATH@/ut_mimpluginmanager/ut_mimpluginmanager</step>
+           </case>
+           <case name="ut_mimpluginmanagerconfig" type="Unit">
+               <step>LD_LIBRARY_PATH=@PATH@/plugins @PATH@/ut_mimpluginmanagerconfig/ut_mimpluginmanagerconfig</step>
+           </case>
+           <case name="ut_mimserveroptions" type="Unit">
+               <step>@PATH@/ut_mimserveroptions/ut_mimserveroptions</step>
+           </case>
+           <case name="ut_mimsettings" type="Unit">
+               <step>@PATH@/ut_mimsettings/ut_mimsettings</step>
+           </case>
+           <case name="ut_minputmethodquickplugin" type="Unit">
+               <step>@PATH@/ut_minputmethodquickplugin/ut_minputmethodquickplugin</step>
+           </case>
+           <case name="ut_mkeyoverride" type="Unit">
+               <step>@PATH@/ut_mkeyoverride/ut_mkeyoverride</step>
+           </case>
+       </set>
+   </suite>
+</testdefinition>
+
-- 
2.35.1

